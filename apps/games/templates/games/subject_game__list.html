{% extends 'base.html' %}

{% block title %}Games for {{ subject.name }}{% endblock %}

{% block content %}
<div class="px-4 sm:px-6 lg:px-8">
    <div class="sm:flex sm:items-center">
        <div class="sm:flex-auto">
            <h1 class="text-2xl font-bold tracking-tight text-gray-900">{{ subject.name }} Games</h1>
            <p class="mt-2 text-sm text-gray-700">Choose a game to play and test your knowledge!</p>
        </div>
    </div>

    <div class="mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {% for game in games %}
        <a href="{% url 'play_game' game.id %}" class="group relative flex flex-col justify-between overflow-hidden rounded-lg bg-white p-6 shadow transition-all hover:shadow-lg hover:-translate-y-1">
            <div>
                <h3 class="text-lg font-semibold leading-6 text-gray-900">
                    <span class="absolute inset-0" aria-hidden="true"></span>
                    {{ game.title }}
                </h3>
                <p class="mt-2 text-sm text-gray-500">{{ game.description|truncatewords:20 }}</p>
            </div>
            <div class="mt-4">
                <span class="inline-block rounded-full bg-brand-purple/10 px-3 py-1 text-xs font-semibold text-brand-purple">{{ game.get_game_type_display }}</span>
            </div>
        </a>
        {% empty %}
        <div class="col-span-full text-center py-12">
            <p class="text-gray-500">No games available for this subject yet.</p>
            <a href="{% url 'users:dashboard' %}" class="mt-4 inline-block text-sm font-semibold text-brand-purple hover:text-opacity-80">Back to Dashboard</a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}